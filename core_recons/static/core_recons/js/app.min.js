!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(){function e(e,r,t,n){r.find(t).each(function(){$(this).val("")}),e.$setPristine(),e.$setUntouched(),n?n():angular.noop()}return e}function o(){return function(e,r){e[r].$$lastCommittedViewValue="",e[r].$rollbackViewValue()}}function i(e){function r(r,t){r.$setPristine(),r.$setUntouched(),t&&t.forEach(function(r){var t=r.form;r.elements.forEach(function(r){e(t,r)})})}return r}function a(){return function(e,r,t,n){var o=e[r][t];return o.$dirty&&o["ok"===n?"$valid":"$invalid"]}}var l=t(1);angular.module("kanmii-underscore",[]).factory("kanmiiUnderscore",function(){return window._}),angular.module("kanmii-URI",[]).factory("kanmiiUri",function(){return window.URI});var c=angular.module("rootApp",["ngRoute","ui.bootstrap","ngResource","ngAnimate","ngMessages","angularModalService","toggle-dim-element"]);l.setStaticPrefix(c),c.factory("resetForm",n),c.factory("clearFormField",o),c.factory("resetForm2",i),i.$inject=["clearFormField"],c.factory("formFieldIsValid",a),t(2),t(3),t(6),t(7),t(8),t(9),t(10),t(11),t(12),t(13),t(14),t(15),t(16),t(18),t(19),t(21),t(22),t(23)},function(e,r){"use strict";function t(e,r){return staticPrefix+e+"/js/"+r}function n(e){e.run(["$rootScope",function(e){e.staticPrefix=staticPrefix,e.addIconSrc=staticPrefix+"core_recons/css/images/icon_addposting.gif"}])}var o=["$interpolateProvider",function(e){e.startSymbol("{$"),e.endSymbol("$}")}];e.exports={interpolateProviderConfig:o,buildUrl:t,rootAppName:"core_recons",setStaticPrefix:n}},function(e,r){"use strict";function t(){function e(){var e=this;e.dim=function(e,r){e.addClass("ui-widget-overlay ui-front"),r?r():angular.noop},e.unDim=function(e,r){e.removeClass("ui-widget-overlay ui-front"),r?r():angular.noop}}return new e}angular.module("toggle-dim-element",[]).service("ToggleDimElement",t)},function(e,r,t){"use strict";function n(e,r){var t=appendToUrl(r.customerAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}function o(e){function r(r){return e.query({name:r}).$promise}return r}var i=angular.module("customer",["rootApp"]);i.factory("Customer",n),n.$inject=["$resource","urls"],i.factory("getTypeAheadCustomer",o),o.$inject=["Customer"],t(4)},function(e,r,t){"use strict";function n(e,r,t,n,o,i){function a(t){m.customer={},e(t,r,".form-control")}function l(e){t(e)}function c(e){return n.query({filter:e}).$promise}function s(e){function r(e){m.customer.branch=e,u()}function t(e){o(e,{code:"Branch code",name:"Branch Name"})}e&&n.save(e).$promise.then(r,t)}function u(){g.hide(),p.show(),f.removeClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!1)})}function d(){p.hide(),g.show(),f.addClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!0)})}var m=this;m.customer={name:i},m.revealNewBranchForm=d,m.dismissNewBranchForm=u,m.close=t,m.reset=a,m.submitCustomer=l,m.getBranch=c,m.createNewBranch=s;var f=r.find(".add-new-customer-container"),p=r.find(".add-customer-form-control"),g=r.find(".new-branch-form-container")}function o(e,r,n){return{restrict:"A",link:function(o,i,a,l){function c(){e.showModal({template:t(5),controller:"CustomerModalCtrl as customerModal",inputs:{customerName:l.initCustomerName}}).then(function(e){function t(){i.find(".form-control").each(function(){var e=$(this);e.prop("disabled",!e.prop("disabled"))})}var i=r(a.dimParent)(o.$parent);e.element.dialog({dialogClass:"no-close",title:"Add Customer",modal:!0,minWidth:600,open:function(){i&&n.dim(i,t)},close:function(){i&&n.unDim(i,t),e.controller.close()}}),e.close.then(function(e){e&&angular.isObject(e)&&l.addCustomer(e),i&&n.unDim(i,t)})})}i.css({cursor:"pointer"}).bind("click",c)},controller:"AddCustomerDirectiveCtrl as addCustomer",scope:{},bindToController:{newCustomer:"=addedNewCustomer",customerAdded:"&onCustomerAdded",initCustomerName:"="}}}function i(e,r){function t(t){function o(e){n.newCustomer=e,n.customerAdded({customer:e})}function i(e){r(e)}e.save(t).$promise.then(o,i)}var n=this;n.customer={},n.addCustomer=t}var a=angular.module("customer");a.controller("CustomerModalCtrl",n),n.$inject=["resetForm","$element","close","Branch","xhrErrorDisplay","customerName"],a.directive("addCustomer",o),o.$inject=["ModalService","$parse","ToggleDimElement"],a.controller("AddCustomerDirectiveCtrl",i),i.$inject=["Customer","xhrErrorDisplay"]},function(e,r){e.exports='<div id="add-customer"><form novalidate="" class="form-horizontal" ng-submit="customerModal.submitCustomer(customerModal.customer)" name="customerModalForm"><fieldset class="add-new-customer-container" ng-form="" name="newCustomerModalForm" style="position: relative;padding: 7px;"><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="customer-name">Customer Name</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" ng-minlength="3" id="customer-name" required="" to-upper="" ng-model="customerModal.customer.name"></div></div></fieldset><div class="row add-customer-form-control"><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: left"><span class="btn btn-default" ng-click="customerModal.reset(customerModalForm)">Reset</span></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: center"><button type="submit" name="addNewCustomerModalSubmitBtn" class="btn btn-info" ng-disabled="newCustomerModalForm.$invalid">Add Customer</button></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: right"><span class="btn btn-default" ng-click="customerModal.close()">Close</span></div></div></form></div>'},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.lcBidRequestAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"},pending:{method:"GET",params:{pending:!0}}})}function n(e){var r={"text-align":"right"};return[{title:"Form M",modelKey:"form_m_number"},{title:"Applicant",modelKey:"applicant"},{title:"Currency",modelKey:"currency"},{title:"Amount",tdStyle:r,render:function(r){return e("number")(r.amount,2)}},{title:"Date Created",tdStyle:r,render:function(r){return e("date")(r.created_at,"dd-MMM-yyyy")}},{title:"Date Requested",tdStyle:r,render:function(r){return e("date")(r.requested_at,"dd-MMM-yyyy")}}]}var o=angular.module("lc-bid-request",["rootApp"]);o.factory("LcBidRequest",t),t.$inject=["$resource","urls"],o.factory("lcBidRequestModelManager",n),n.$inject=["$filter"],o.value("bidAttributesVerboseNames",{mf:"form m",amount:"amount"})},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.formMAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"},getNoLcAttached:{method:"GET",params:{lc_not_attached:!0}}})}function n(e){var r={"text-align":"right"};return[{title:"Form M",modelKey:"number"},{title:"Applicant",render:function(e){return e.applicant_data.name}},{title:"Currency",render:function(e){return e.currency_data.code}},{title:"Amount",tdStyle:r,render:function(r){return e("number")(r.amount,2)}},{title:"Date Received",tdStyle:r,render:function(r){return e("date")(r.date_received,"dd-MMM-yyyy")}},{title:"Bid Date",modelKey:"nothing"}]}var o=angular.module("form-m-service",["rootApp"]);o.factory("FormM",t),t.$inject=["$resource","urls"],o.factory("formMModelManager",n),n.$inject=["$filter"],o.value("formMAttributesVerboseNames",{date_received:"date received",number:"form m number",currency:"currency",applicant:"applicant"})},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.letterOfCreditAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}function n(e){var r={"text-align":"right"};return[{title:"Form M",modelKey:"number"},{title:"Applicant",render:function(e){return e.applicant_data.name}},{title:"Currency",render:function(e){return e.currency_data.code}},{title:"Amount",tdStyle:r,render:function(r){return e("number")(r.amount,2)}},{title:"Date Received",tdStyle:r,render:function(r){return e("date")(r.date_received,"dd-MMM-yyyy")}},{title:"Bid Date",modelKey:"nothing"}]}var o=angular.module("lc-service",["rootApp"]);o.factory("LetterOfCredit",t),t.$inject=["$resource","urls"],o.factory("LcModelManager",n),n.$inject=["$filter"],o.value("LcAttributesVerboseNames",{date_received:"date received",number:"form m number"})},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.commentAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}var n=angular.module("comment-service",["rootApp"]);n.factory("Comment",t),t.$inject=["$resource","urls"]},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.formMCoverAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}var n=angular.module("lc-cover-service",["rootApp"]);n.factory("FormMCover",t),t.$inject=["$resource","urls"]},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.uploadedFormMAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}var n=angular.module("upload-form-m-service",["rootApp"]);n.factory("UploadFormM",t),t.$inject=["$resource","urls"]},function(e,r){"use strict";function t(e,r){var t=appendToUrl(r.lcIssueAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}function n(e,r){var t=appendToUrl(r.lcIssueConcreteAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}function o(e){function r(r){return e.query(r).$promise}return r}var i=angular.module("lc-issue-service",["rootApp"]);i.factory("LCIssue",t),t.$inject=["$resource","urls"],i.factory("LCIssueConcrete",n),n.$inject=["$resource","urls"],i.factory("getTypeAheadLCIssue",o),o.$inject=["LCIssue"]},function(e,r){"use strict";var t=angular.module("rootApp");t.directive("numberFormat",["$filter",function(e){function r(r,t,n,o){function i(){var r,n;r=t.val(),r&&(r=r.replace(l,""),n=e("number")(r,2),t.val(n),o.$setViewValue(n))}function a(e){var r;r=e.which,0===r||8===r||r>15&&19>r||r>=37&&40>=r||","!==String.fromCharCode(r)&&"."!==String.fromCharCode(r)&&!(r>=48&&57>=r)}if(o){var l=new RegExp(",","g");o.$render=function(){t.val(e("number")(o.$viewValue,2))},o.$parsers.push(function(e){var r=e.replace(l,"");return e?Number(r):""}),t.bind("focusout",i),t.bind("keypress",a)}}return{require:"?ngModel",link:r,restrict:"A"}}])},function(e,r){"use strict";var t=angular.module("rootApp");t.directive("toUpper",[function(){return{require:"ngModel",link:function(e,r,t,n){n&&(n.$parsers.push(function(e){return e?e.toUpperCase():""}),r.bind("focusout",function(){var e=r.val();e&&r.val(e.toUpperCase())}))},restrict:"A"}}])},function(e,r){"use strict";function t(){return{link:function(e,r,t){r.on({click:function(){var e=t.selectedClassIndicator,r=$(this);r.hasClass(e)?r.removeClass(e):r.addClass(e).siblings().removeClass(e)}},t.rowSelector)}}}angular.module("toggle-bg-color",[]).directive("toggleBgColor",t)},function(e,r,t){"use strict";function n(){return{link:function(e,r,t,n){r.on({click:function(e){e.preventDefault();var r=$(e.target);if(!r.is(".active")&&!r.closest("li").is(".disabled")){var t=r.attr("href")||r.parent().attr("href");n.targetClickedCallback({linkUrl:t})}}},".pager-nav-link")},scope:{},bindToController:{targetClickedCallback:"&",prevPageLink:"=",linkUrls:"=",currentLink:"=currentPagerLink",nextPageLink:"="},controller:"PagerNavCtrl as pageNav",template:t(17)}}function o(){}function i(e){function r(r,t,n){var o={currentLink:1};if(o.linkUrls=[],!n||1===n)return o;var i,a,l,c;if(t)for(i=e(t),a=i.search(!0),o.currentLink=a.page?Number(a.page)+1:2,l=i.search(""),c=1;n>=c;c++)a.page=c,o.linkUrls.push(l.clone().search(a).toString());else for(i=e(r),a=i.search(!0),l=i.search(""),a.page=1,o.linkUrls=[l.clone().search(a).toString(),r],c=3;n>=c;c++)a.page=c,o.linkUrls.push(l.clone().search(a).toString());return o}return r}var a=angular.module("pager-nav",["kanmii-URI"]);a.directive("pagerNav",n),a.controller("PagerNavCtrl",o),a.factory("pagerNavSetUpLinks",i),i.$inject=["kanmiiUri"]},function(e,r){e.exports='<nav id="pager-nav">\r\n  <ul class="pagination" style="margin: 0;">\r\n    <li ng-class="[\'previous\', {disabled: !pageNav.prevPageLink}]">\r\n      <a ng-href="{$pageNav.prevPageLink$}" aria-label="Previous" class="pager-nav-link">\r\n        <span aria-hidden="true">&laquo;</span>\r\n      </a>\r\n    </li>\r\n\r\n    <li ng-repeat="link in pageNav.linkUrls"\r\n        ng-class="{active: (pageNav.currentLink == ($index + 1))}">\r\n      <a ng-href="{$link$}"\r\n         ng-class="[\'pager-nav-link\', {active: (pageNav.currentLink == ($index + 1))}]">\r\n        {$($index + 1)$}\r\n      </a>\r\n    </li>\r\n\r\n    <li ng-class="[\'next\', {disabled: !pageNav.nextPageLink}]">\r\n      <a ng-href="{$pageNav.nextPageLink$}" aria-label="Next" class="pager-nav-link">\r\n        <span aria-hidden="true">&raquo;</span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n'},function(e,r){"use strict";function t(e){function r(e){var r=$("<div>").css({margin:"5px 0 0 10px"}),t=$("<span></span>").addClass("glyphicon glyphicon-trash").css({cursor:"pointer"}).click(function(){});return r.append(t),r.append($("<span>"+e+"</span>").css({"margin-left":"5px"})),r}function t(e,t){var n=r(t),o=e.parents(".input-group");o.size()?o.after(n):e.after(n)}return{restrict:"A",require:"ngModel",link:function(r,n,o,i){i.$validators.objectModel=function(r,o){return console.log("modelValue = ",r),console.log("view Value = ",o),i.$isEmpty(r)?!0:e.isObject(r)&&!e.isEmpty(r)?(t(n,o),!0):!1}}}}var n=angular.module("kanmii-form-validators",["kanmii-underscore"]);n.directive("objectModel",t),t.$inject=["kanmiiUnderscore"]},function(e,r,t){"use strict";function n(){return{restrict:"AE",scope:{},bindToController:{modelCollection:"=",modelManager:"=tableModelManager",newModel:"=",caption:"=tableCaption",paginationSize:"=",updateCollection:"&",pager:"=pagerObject",onDblClick:"&onRowDblClickCallback"},controller:"ModelTableDirectiveCtrl as modelTable",template:t(20)}}function o(e,r,t){function n(e,t,n){var o=Math.ceil(n/i.paginationSize),a=r(e,t,o);i.nextPageLink=e,i.prevPageLink=t,i.linkUrls=a.linkUrls,i.currentLink=a.currentLink,i.rowIndexOffset=(i.currentLink-1)*i.paginationSize}function o(e){i.updateCollection({linkUrl:e})}var i=this;i.orderProp="-created_at",i.onUpdateCollection=o,e.$watch(function(){return i.pager},function(e){e&&!t.isEmpty(e)&&n(e.next,e.previous,e.count)})}var i=angular.module("model-table",["toggle-bg-color","kanmii-underscore","pager-nav"]);i.config(t(1).interpolateProviderConfig),i.directive("modelTable",n),i.controller("ModelTableDirectiveCtrl",o),o.$inject=["$scope","pagerNavSetUpLinks","kanmiiUnderscore"]},function(e,r){e.exports='<div class="model-table-display-root-container"><table class="table table-striped table-condensed table-bordered model-table-table-display" style="margin-bottom: 13px;"><caption>{$::modelTable.caption$}</caption><thead><tr><th>S/N</th><th ng-repeat="modelManager in modelTable.modelManager">{$::modelManager.title$}</th></tr></thead><tbody toggle-bg-color="" row-selector="tr" selected-class-indicator="model-table-display-selected"><tr ng-repeat="aModel in modelTable.modelCollection" style="cursor: pointer;" ng-dblclick="modelTable.onDblClick({rowModel: aModel})" ng-class="[\'model-table-display-table-row\', {\'model-table-display-selected\': aModel.highlighted}]"><td>{$$index + 1 + modelTable.rowIndexOffset$}</td><td ng-repeat="modelManager in modelTable.modelManager" ng-style="::modelManager.tdStyle">{$::modelManager.modelKey ? aModel[modelManager.modelKey] : modelManager.render(aModel)$}</td></tr></tbody></table><pager-nav prev-page-link="modelTable.prevPageLink" link-urls="modelTable.linkUrls" current-pager-link="modelTable.currentLink" next-page-link="modelTable.nextPageLink" target-clicked-callback="modelTable.onUpdateCollection(linkUrl)"></pager-nav></div>'},function(e,r,t){"use strict";function n(e,r){var t=appendToUrl(r.currencyAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}function o(e){function r(r){return e.query({code:r}).$promise}return r}function i(e,r){var t=appendToUrl(r.branchAPIUrl,":id");return e(t,{id:"@id"},{put:{method:"PUT"}})}function a(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function l(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function c(e,r,t){e=angular.copy(e),console.log(e),400===e.status&&(e.messages=e.data,this.errorKeyMap=r),this.error=e,this.close=t}function s(e){return function(r,t){function n(e){e.element.dialog({modal:!0,dialogClass:"no-close",title:"Request Not Completed",close:function(){e.controller.close()}})}e.showModal({templateUrl:u.buildUrl("core_recons","commons/./xhr-error-display.service.html"),controller:"XhrErrorDisplayCtrl as xhrErrorDisplay",inputs:{error:r,errorKeyMap:t}}).then(n)}}var u=t(1),d=angular.module("rootApp");d.factory("Currency",n),n.$inject=["$resource","urls"],d.factory("getTypeAheadCurrency",o),o.$inject=["Currency"],d.factory("Branch",i),i.$inject=["$resource","urls"],d.factory("parseDate",a),d.factory("formatDate",l),d.controller("XhrErrorDisplayCtrl",c),c.$inject=["error","errorKeyMap","close"],d.factory("xhrErrorDisplay",s),s.$inject=["ModalService"]},function(e,r,t){"use strict";function n(e){function r(r,t,n,o){function i(r){o.searchParams={},r&&e(r,t,".form-control")}o.reset=i,o.reset()}return{restrict:"E",scope:{},bindToController:!0,templateUrl:i.buildUrl(i.rootAppName,"search-lc/search-lc.html"),controller:"SearchLcDirectiveCtrl as searchLc",link:r}}function o(e,r){function t(r){return e.query({name:r}).$promise}function n(e){_.isEmpty(e)||(e.applicant&&(e.applicant=e.applicant.name),o.lcees=r.query(e),console.log(o.lcees))}var o=this;o.cssPath=i.buildUrl(i.rootAppName,"search-lc/search-lc.min.css"),o.lcees=[],o.searchParams={},o.getCustomer=t,o.getLcees=n}var i=t(1),a=angular.module("rootApp.search_lc",["rootApp"]);a.config(i.interpolateProviderConfig),i.setStaticPrefix(a),a.directive("searchLc",n),n.$inject=["resetForm"],a.controller("SearchLcDirectiveCtrl",o),o.$inject=["Customer","LetterOfCredit"]},function(e,r,t){"use strict";function n(e,r){function n(){function n(n){function o(e){e.element.dialog({modal:!0,dialogClass:"no-close",minWidth:500,title:n.title,close:function(){e.controller.close(!1)}}),n.infoOnly||e.close.then(function(e){i.resolve(e)})}var i=r.defer();return e.showModal({template:t(24),inputs:{config:n},controller:"ConfirmationDialogCtrl as confirm"}).then(o),i.promise}this.showDialog=n}return new n}function o(e,r){this.text=e.text,this.infoOnly=e.infoOnly,this.close=r}var i=angular.module("confirmation-dialog",["angularModalService"]);i.factory("confirmationDialog",n),n.$inject=["ModalService","$q"],i.controller("ConfirmationDialogCtrl",o),o.$inject=["config","close"]},function(e,r){e.exports='<div style="overflow: hidden" class="confirmation-dialog"><pre style="max-height: 250px;" class="content">{$confirm.text$}</pre><div class="row answer" ng-if="!confirm.infoOnly"><div class="col-sm-6" style="text-align: left;"><button class="btn btn-success" ng-click="confirm.close(true)">Yes</button></div><div class="col-sm-6" style="text-align: right"><button class="btn btn-info" ng-click="confirm.close(false)">No</button></div></div></div>'}]);
//# sourceMappingURL=app.min.js.map
