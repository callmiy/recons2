!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(){function e(e,t,r,n){t.find(r).each(function(){$(this).val("")}),e.$setPristine(),e.$setUntouched(),n?n():angular.noop()}return e}function o(){return function(e,t){e[t].$$lastCommittedViewValue="",e[t].$rollbackViewValue()}}function i(e){function t(t,r){t.$setPristine(),t.$setUntouched(),r&&r.forEach(function(t){var r=t.form;t.elements.forEach(function(t){e(r,t)})})}return t}function a(){return function(e,t,r,n){var o=e[t][r];return o.$dirty&&o["ok"===n?"$valid":"$invalid"]}}var l=r(1);angular.module("kanmii-underscore",[]).factory("kanmiiUnderscore",function(){return window._}),angular.module("kanmii-URI",[]).factory("kanmiiUri",function(){return window.URI});var c=angular.module("rootApp",["ngRoute","ui.bootstrap","ngResource","ngAnimate","ngMessages","angularModalService","toggle-dim-element"]);l.setStaticPrefix(c),c.factory("resetForm",n),c.factory("clearFormField",o),c.factory("resetForm2",i),i.$inject=["clearFormField"],c.factory("formFieldIsValid",a),r(2),r(3),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(16),r(17),r(19),r(20),r(21)},function(e,t){"use strict";function r(e,t){return staticPrefix+e+"/js/"+t}function n(e){e.run(["$rootScope",function(e){e.staticPrefix=staticPrefix,e.addIconSrc=staticPrefix+"core_recons/css/images/icon_addposting.gif"}])}var o=["$interpolateProvider",function(e){e.startSymbol("{$"),e.endSymbol("$}")}];e.exports={interpolateProviderConfig:o,buildUrl:r,rootAppName:"core_recons",setStaticPrefix:n}},function(e,t){"use strict";function r(){function e(){var e=this;e.dim=function(e,t){e.addClass("ui-widget-overlay ui-front"),t?t():angular.noop},e.unDim=function(e,t){e.removeClass("ui-widget-overlay ui-front"),t?t():angular.noop}}return new e}angular.module("toggle-dim-element",[]).service("ToggleDimElement",r)},function(e,t,r){"use strict";function n(e,t){var r=appendToUrl(t.customerAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"}})}function o(e){function t(t){return e.query({name:t}).$promise}return t}var i=angular.module("customer",["rootApp"]);i.factory("Customer",n),n.$inject=["$resource","urls"],i.factory("getTypeAheadCustomer",o),o.$inject=["Customer"],r(4)},function(e,t,r){"use strict";function n(e,t,r,n,o){function i(){r()}function a(r){m.customer={},e(r,t,".form-control")}function l(e){r(e)}function c(e){return n.query({filter:e}).$promise}function s(e){function t(e){m.customer.branch=e,u()}function r(e){o(e,{code:"Branch code",name:"Branch Name"})}e&&n.save(e).$promise.then(t,r)}function u(){g.hide(),p.show(),f.removeClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!1)})}function d(){p.hide(),g.show(),f.addClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!0)})}var m=this;m.customer={},m.revealNewBranchForm=d,m.dismissNewBranchForm=u,m.close=i,m.reset=a,m.submitCustomer=l,m.getBranch=c,m.createNewBranch=s;var f=t.find(".add-new-customer-container"),p=t.find(".add-customer-form-control"),g=t.find(".new-branch-form-container")}function o(e,t,n){return{restrict:"A",link:function(o,i,a,l){function c(){e.showModal({template:r(5),controller:"CustomerModalCtrl as customerModal"}).then(function(e){function r(){i.find(".form-control").each(function(){var e=$(this);e.prop("disabled",!e.prop("disabled"))})}var i=t(a.dimParent)(o.$parent);e.element.dialog({dialogClass:"no-close",title:"Add Customer",modal:!0,minWidth:600,open:function(){i&&n.dim(i,r)},close:function(){i&&n.unDim(i,r)}}),e.close.then(function(e){e&&angular.isObject(e)&&l.addCustomer(e),i&&n.unDim(i,r)})})}i.css({cursor:"pointer"}).bind("click",c)},controller:"AddCustomerDirectiveCtrl as addCustomer",scope:{},bindToController:{newCustomer:"=addedNewCustomer",customerAdded:"&onCustomerAdded"}}}function i(e,t){function r(r){function o(e){n.newCustomer=e,n.customerAdded({customer:e})}function i(e){t(e)}e.save(r).$promise.then(o,i)}var n=this;n.customer={},n.addCustomer=r}var a=angular.module("customer");a.controller("CustomerModalCtrl",n),n.$inject=["resetForm","$element","close","Branch","xhrErrorDisplay"],a.directive("addCustomer",o),o.$inject=["ModalService","$parse","ToggleDimElement"],a.controller("AddCustomerDirectiveCtrl",i),i.$inject=["Customer","xhrErrorDisplay"]},function(e,t){e.exports='<div id="add-customer"><form novalidate="" class="form-horizontal" ng-submit="customerModal.submitCustomer(customerModal.customer)" name="customerModalForm"><fieldset class="add-new-customer-container" ng-form="" name="newCustomerModalForm" style="position: relative;padding: 7px;"><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="customer-name">Customer Name</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" min="3" id="customer-name" required="" to-upper="" ng-pattern="/.{3,}/" ng-model="customerModal.customer.name"></div></div></fieldset><div class="row add-customer-form-control"><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: left"><span class="btn btn-default" ng-click="customerModal.reset(customerModalForm)">Reset</span></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: center"><button type="submit" class="btn btn-info" ng-disabled="newCustomerModalForm.$invalid">Add Customer</button></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: right"><span class="btn btn-default" ng-click="customerModal.close()">Close</span></div></div></form></div>'},function(e,t){"use strict";function r(e,t){var r=appendToUrl(t.lcBidRequestAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"},pending:{method:"GET",params:{pending:!0}}})}function n(e){var t={"text-align":"right"};return[{title:"Form M",modelKey:"form_m_number"},{title:"Applicant",modelKey:"applicant"},{title:"Currency",modelKey:"currency"},{title:"Amount",tdStyle:t,render:function(t){return e("number")(t.amount,2)}},{title:"Date Created",tdStyle:t,render:function(t){return e("date")(t.created_at,"dd-MMM-yyyy")}},{title:"Date Requested",tdStyle:t,render:function(t){return e("date")(t.requested_at,"dd-MMM-yyyy")}}]}var o=angular.module("lc-bid-request",["rootApp"]);o.factory("LcBidRequest",r),r.$inject=["$resource","urls"],o.factory("lcBidRequestModelManager",n),n.$inject=["$filter"],o.value("bidAttributesVerboseNames",{mf:"form m",amount:"amount"})},function(e,t){"use strict";function r(e,t){var r=appendToUrl(t.formMAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"},getNoLcAttached:{method:"GET",params:{lc_not_attached:!0}}})}function n(e){var t={"text-align":"right"};return[{title:"Form M",modelKey:"number"},{title:"Applicant",render:function(e){return e.applicant_data.name}},{title:"Currency",render:function(e){return e.currency_data.code}},{title:"Amount",tdStyle:t,render:function(t){return e("number")(t.amount,2)}},{title:"Date Received",tdStyle:t,render:function(t){return e("date")(t.date_received,"dd-MMM-yyyy")}},{title:"Bid Date",modelKey:"nothing"}]}var o=angular.module("form-m-service",["rootApp"]);o.factory("FormM",r),r.$inject=["$resource","urls"],o.factory("formMModelManager",n),n.$inject=["$filter"],o.value("formMAttributesVerboseNames",{date_received:"date received",number:"form m number",currency:"currency",applicant:"applicant"})},function(e,t){"use strict";function r(e,t){var r=appendToUrl(t.letterOfCreditAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}function n(e){var t={"text-align":"right"};return[{title:"Form M",modelKey:"number"},{title:"Applicant",render:function(e){return e.applicant_data.name}},{title:"Currency",render:function(e){return e.currency_data.code}},{title:"Amount",tdStyle:t,render:function(t){return e("number")(t.amount,2)}},{title:"Date Received",tdStyle:t,render:function(t){return e("date")(t.date_received,"dd-MMM-yyyy")}},{title:"Bid Date",modelKey:"nothing"}]}var o=angular.module("lc-service",["rootApp"]);o.factory("LetterOfCredit",r),r.$inject=["$resource","urls"],o.factory("LcModelManager",n),n.$inject=["$filter"],o.value("LcAttributesVerboseNames",{date_received:"date received",number:"form m number"})},function(e,t){"use strict";function r(e,t){var r=appendToUrl(t.uploadedFormMAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}var n=angular.module("upload-form-m-service",["rootApp"]);n.factory("UploadFormM",r),r.$inject=["$resource","urls"]},function(e,t){"use strict";function r(e,t){var r=appendToUrl(t.lcIssueAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"}})}function n(e,t){var r=appendToUrl(t.lcIssueConcreteAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"}})}function o(e){function t(t){return e.query(t).$promise}return t}var i=angular.module("lc-issue-service",["rootApp"]);i.factory("LCIssue",r),r.$inject=["$resource","urls"],i.factory("LCIssueConcrete",n),n.$inject=["$resource","urls"],i.factory("getTypeAheadLCIssue",o),o.$inject=["LCIssue"]},function(e,t){"use strict";var r=angular.module("rootApp");r.directive("numberFormat",["$filter",function(e){function t(t,r,n,o){function i(){r.val(e("number")(o.$viewValue,2))}function a(e){var t=e.replace(/,/g,"");return e?Number(t):void 0}function l(){var t,n;t=r.val(),t&&(t=r.val().replace(/,/g,""),n=e("number")(t,2),r.val(n),o.$setViewValue(n))}function c(e){var t;t=e.which,0===t||8===t||t>15&&19>t||t>=37&&40>=t||","!==String.fromCharCode(t)&&"."!==String.fromCharCode(t)&&!(t>=48&&57>=t)}o&&(o.$render=i,o.$parsers.push(a),r.bind("focusout",l),r.bind("keypress",c))}return{require:"?ngModel",link:t,restrict:"A"}}])},function(e,t){"use strict";var r=angular.module("rootApp");r.directive("toUpper",[function(){function e(e,t,r,n){function o(e){return e?e.toUpperCase():void 0}n.$parsers.push(o),t.bind("focusout",function(){var e;e=t.val(),t.val(e.toUpperCase())})}return{require:"ngModel",link:e,restrict:"A"}}])},function(e,t){"use strict";function r(){return{link:function(e,t,r){t.on({click:function(){var e=r.selectedClassIndicator,t=$(this);t.hasClass(e)?t.removeClass(e):t.addClass(e).siblings().removeClass(e)}},r.rowSelector)}}}angular.module("toggle-bg-color",[]).directive("toggleBgColor",r)},function(e,t,r){"use strict";function n(){return{link:function(e,t,r,n){t.on({click:function(e){e.preventDefault();var t=$(e.target);if(!t.is(".active")&&!t.closest("li").is(".disabled")){var r=t.attr("href")||t.parent().attr("href");n.targetClickedCallback({linkUrl:r})}}},".pager-nav-link")},scope:{},bindToController:{targetClickedCallback:"&",prevPageLink:"=",linkUrls:"=",currentLink:"=currentPagerLink",nextPageLink:"="},controller:"PagerNavCtrl as pageNav",template:r(15)}}function o(){}function i(e){function t(t,r,n){var o={currentLink:1};if(o.linkUrls=[],!n||1===n)return o;var i,a,l,c;if(r)for(i=e(r),a=i.search(!0),a.page?o.currentLink=Number(a.page)+1:o.currentLink=2,l=i.search(""),c=1;n>=c;c++)a.page=c,o.linkUrls.push(l.clone().search(a).toString());else for(i=e(t),a=i.search(!0),l=i.search(""),a.page=1,o.linkUrls=[l.clone().search(a).toString(),t],c=3;n>=c;c++)a.page=c,o.linkUrls.push(l.clone().search(a).toString());return o}return t}var a=angular.module("pager-nav",["kanmii-URI"]);a.directive("pagerNav",n),a.controller("PagerNavCtrl",o),a.factory("pagerNavSetUpLinks",i),i.$inject=["kanmiiUri"]},function(e,t){e.exports='<nav id="pager-nav">\n  <ul class="pagination" style="margin: 0;">\n    <li ng-class="[\'previous\', {disabled: !pageNav.prevPageLink}]">\n      <a ng-href="{$pageNav.prevPageLink$}" aria-label="Previous" class="pager-nav-link">\n        <span aria-hidden="true">&laquo;</span>\n      </a>\n    </li>\n\n    <li ng-repeat="link in pageNav.linkUrls"\n        ng-class="{active: (pageNav.currentLink == ($index + 1))}">\n      <a ng-href="{$link$}"\n         ng-class="[\'pager-nav-link\', {active: (pageNav.currentLink == ($index + 1))}]">\n        {$($index + 1)$}\n      </a>\n    </li>\n\n    <li ng-class="[\'next\', {disabled: !pageNav.nextPageLink}]">\n      <a ng-href="{$pageNav.nextPageLink$}" aria-label="Next" class="pager-nav-link">\n        <span aria-hidden="true">&raquo;</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n'},function(e,t){"use strict";function r(e){function t(e){var t=$("<div>").css({margin:"5px 0 0 10px"}),r=$("<span></span>").addClass("glyphicon glyphicon-trash").css({cursor:"pointer"}).click(function(){});return t.append(r),t.append($("<span>"+e+"</span>").css({"margin-left":"5px"})),t}function r(e,r){var n=t(r),o=e.parents(".input-group");o.size()?o.after(n):e.after(n)}return{restrict:"A",require:"ngModel",link:function(t,n,o,i){i.$validators.objectModel=function(t,o){return console.log("modelValue = ",t),console.log("view Value = ",o),i.$isEmpty(t)?!0:e.isObject(t)&&!e.isEmpty(t)?(r(n,o),!0):!1}}}}var n=angular.module("kanmii-form-validators",["kanmii-underscore"]);n.directive("objectModel",r),r.$inject=["kanmiiUnderscore"]},function(e,t,r){"use strict";function n(){return{restrict:"AE",scope:{},bindToController:{modelCollection:"=",modelManager:"=tableModelManager",newModel:"=",caption:"=tableCaption",paginationSize:"=",updateCollection:"&",pager:"=pagerObject",onDblClick:"&onRowDblClickCallback"},controller:"ModelTableDirectiveCtrl as modelTable",template:r(18)}}function o(e,t,r){function n(e,r,n){var o=Math.ceil(n/i.paginationSize),a=t(e,r,o);i.nextPageLink=e,i.prevPageLink=r,i.linkUrls=a.linkUrls,i.currentLink=a.currentLink,i.rowIndexOffset=(i.currentLink-1)*i.paginationSize}function o(e){i.updateCollection({linkUrl:e})}var i=this;i.orderProp="-created_at",i.onUpdateCollection=o,e.$watch(function(){return i.pager},function(e){e&&!r.isEmpty(e)&&n(e.next,e.previous,e.count)})}var i=angular.module("model-table",["toggle-bg-color","kanmii-underscore","pager-nav"]);i.config(r(1).interpolateProviderConfig),i.directive("modelTable",n),i.controller("ModelTableDirectiveCtrl",o),o.$inject=["$scope","pagerNavSetUpLinks","kanmiiUnderscore"]},function(e,t){e.exports='<div class="model-table-display-root-container"><table class="table table-striped table-condensed table-bordered model-table-table-display" style="margin-bottom: 13px;"><caption>{$::modelTable.caption$}</caption><thead><tr><th>S/N</th><th ng-repeat="modelManager in modelTable.modelManager">{$::modelManager.title$}</th></tr></thead><tbody toggle-bg-color="" row-selector="tr" selected-class-indicator="model-table-display-selected"><tr ng-repeat="aModel in modelTable.modelCollection" style="cursor: pointer;" ng-dblclick="modelTable.onDblClick({rowModel: aModel})" ng-class="[\'model-table-display-table-row\', {\'model-table-display-selected\': aModel.highlighted}]"><td>{$$index + 1 + modelTable.rowIndexOffset$}</td><td ng-repeat="modelManager in modelTable.modelManager" ng-style="::modelManager.tdStyle">{$::modelManager.modelKey ? aModel[modelManager.modelKey] : modelManager.render(aModel)$}</td></tr></tbody></table><pager-nav prev-page-link="modelTable.prevPageLink" link-urls="modelTable.linkUrls" current-pager-link="modelTable.currentLink" next-page-link="modelTable.nextPageLink" target-clicked-callback="modelTable.onUpdateCollection(linkUrl)"></pager-nav></div>'},function(e,t,r){"use strict";function n(e,t){var r=appendToUrl(t.currencyAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"}})}function o(e){function t(t){return e.query({code:t}).$promise}return t}function i(e,t){var r=appendToUrl(t.branchAPIUrl,":id");return e(r,{id:"@id"},{put:{method:"PUT"}})}function a(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function l(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function c(e,t){e=angular.copy(e),console.log(e),400===e.status&&(e.messages=e.data,this.errorKeyMap=t),this.error=e}function s(e){return function(t,r){function n(e){e.element.dialog({modal:!0,dialogClass:"no-close",title:"Request Not Completed"})}e.showModal({templateUrl:u.buildUrl("core_recons","commons/./xhr-error-display.service.html"),controller:"XhrErrorDisplayCtrl as xhrErrorDisplay",inputs:{error:t,errorKeyMap:r}}).then(n)}}var u=r(1),d=angular.module("rootApp");d.factory("Currency",n),n.$inject=["$resource","urls"],d.factory("getTypeAheadCurrency",o),o.$inject=["Currency"],d.factory("Branch",i),i.$inject=["$resource","urls"],d.factory("parseDate",a),d.factory("formatDate",l),d.controller("XhrErrorDisplayCtrl",c),c.$inject=["error","errorKeyMap"],d.factory("xhrErrorDisplay",s),s.$inject=["ModalService"]},function(e,t,r){"use strict";function n(e){function t(t,r,n,o){function i(t){o.searchParams={},t&&e(t,r,".form-control")}o.reset=i,o.reset()}return{restrict:"E",scope:{},bindToController:!0,templateUrl:i.buildUrl(i.rootAppName,"search-lc/search-lc.html"),controller:"SearchLcDirectiveCtrl as searchLc",link:t}}function o(e,t){function r(t){return e.query({name:t}).$promise}function n(e){_.isEmpty(e)||(e.applicant&&(e.applicant=e.applicant.name),o.lcees=t.query(e),console.log(o.lcees))}var o=this;o.cssPath=i.buildUrl(i.rootAppName,"search-lc/search-lc.min.css"),o.lcees=[],o.searchParams={},o.getCustomer=r,o.getLcees=n}var i=r(1),a=angular.module("rootApp.search_lc",["rootApp"]);a.config(i.interpolateProviderConfig),i.setStaticPrefix(a),a.directive("searchLc",n),n.$inject=["resetForm"],a.controller("SearchLcDirectiveCtrl",o),o.$inject=["Customer","LetterOfCredit"]},function(e,t,r){"use strict";function n(e,t){function n(){function n(n){function o(e){e.element.dialog({modal:!0,dialogClass:"no-close",minWidth:500,title:n.title,close:function(){e.controller.close(!1)}}),n.infoOnly||e.close.then(function(e){i.resolve(e)})}var i=t.defer();return e.showModal({template:r(22),inputs:{config:n},controller:"ConfirmationDialogCtrl as confirm"}).then(o),i.promise}this.showDialog=n}return new n}function o(e,t){this.text=e.text,this.infoOnly=e.infoOnly,this.close=t}var i=angular.module("confirmation-dialog",["angularModalService"]);i.factory("confirmationDialog",n),n.$inject=["ModalService","$q"],i.controller("ConfirmationDialogCtrl",o),o.$inject=["config","close"]},function(e,t){e.exports='<div class="confirmation-dialog"><pre class="content">{$confirm.text$}</pre><div class="row answer" ng-if="!confirm.infoOnly"><div class="col-sm-6" style="text-align: left;"><button class="btn btn-success" ng-click="confirm.close(true)">Yes</button></div><div class="col-sm-6" style="text-align: right"><button class="btn btn-info" ng-click="confirm.close(false)">No</button></div></div></div>'}]);
//# sourceMappingURL=app.min.js.map
