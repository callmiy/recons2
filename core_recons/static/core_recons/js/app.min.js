!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=e,r.c=n,r.p="",r(0)}([function(e,r,n){"use strict";function t(){function e(e,r,n,t){r.find(n).each(function(){$(this).val("")}),e.$setPristine(),e.$setUntouched(),t?t():angular.noop()}return e}var o=n(1);angular.module("kanmii-underscore",[]).factory("kanmiiUnderscore",function(){return window._}),angular.module("kanmii-URI",[]).factory("kanmiiUri",function(){return window.URI});var a=angular.module("rootApp",["ngRoute","ui.bootstrap","ngResource","ngAnimate","angularModalService","toggle-dim-element"]);o.setStaticPrefix(a),a.factory("resetForm",t),n(2),n(3),n(6),n(7),n(8),n(9),n(10),n(12),n(14),n(15)},function(e,r){"use strict";function n(e,r){return staticPrefix+e+"/js/"+r}function t(e){e.run(["$rootScope",function(e){e.staticPrefix=staticPrefix,e.addIconSrc=staticPrefix+"core_recons/css/images/icon_addposting.gif"}])}var o=["$interpolateProvider",function(e){e.startSymbol("{$"),e.endSymbol("$}")}];e.exports={interpolateProviderConfig:o,buildUrl:n,rootAppName:"core_recons",setStaticPrefix:t}},function(e,r){"use strict";function n(){function e(){var e=this;e.dim=function(e,r){e.addClass("ui-widget-overlay ui-front"),r?r():angular.noop},e.unDim=function(e,r){e.removeClass("ui-widget-overlay ui-front"),r?r():angular.noop}}return new e}angular.module("toggle-dim-element",[]).service("ToggleDimElement",n)},function(e,r,n){"use strict";function t(e,r){var n=appendToUrl(r.customerAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function o(e){function r(r){return e.query({name:r}).$promise}return r}var a=angular.module("customer",["rootApp"]);a.factory("Customer",t),t.$inject=["$resource","urls"],a.factory("getTypeAheadCustomer",o),o.$inject=["Customer"],n(4)},function(e,r,n){"use strict";function t(e,r,n,t,o){function a(){n()}function l(n){m.customer={},e(n,r,".form-control")}function i(e){n(e)}function c(e){return t.query({filter:e}).$promise}function s(e){function r(e){m.customer.branch=e,d()}function n(e){o(e,{code:"Branch code",name:"Branch Name"})}if(e){var a=new t(e);a.$save(r,n)}}function d(){g.hide(),f.show(),p.removeClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!1)})}function u(){f.hide(),g.show(),p.addClass("ui-widget-overlay ui-front").find(".form-control").each(function(){$(this).prop("disabled",!0)})}var m=this;m.customer={},m.revealNewBranchForm=u,m.dismissNewBranchForm=d,m.close=a,m.reset=l,m.submitCustomer=i,m.getBranch=c,m.createNewBranch=s;var p=r.find(".add-new-customer-container"),f=r.find(".add-customer-form-control"),g=r.find(".new-branch-form-container")}function o(e,r,t){return{restrict:"A",link:function(o,a,l,i){function c(){e.showModal({template:n(5),controller:"CustomerModalCtrl as customerModal"}).then(function(e){function n(){a.find(".form-control").each(function(){var e=$(this);e.prop("disabled",!e.prop("disabled"))})}var a=r(l.dimParent)(o.$parent);e.element.dialog({dialogClass:"no-close",title:"Add Customer",modal:!0,minWidth:600,minHeight:450,open:function(){a&&t.dim(a,n)},close:function(){a&&t.unDim(a,n)}}),e.close.then(function(e){e&&angular.isObject(e)&&i.addCustomer(e),a&&t.unDim(a,n)})})}a.css({cursor:"pointer"}).bind("click",c)},controller:"AddCustomerDirectiveCtrl as addCustomer",scope:{},bindToController:{newCustomer:"=addedNewCustomer"}}}function a(e,r){function n(n){function o(e){t.newCustomer=e}function a(e){r(e)}var l=new e(n);l.$save(o,a)}var t=this;t.customer={},t.addCustomer=n}var l=angular.module("customer");l.controller("CustomerModalCtrl",t),t.$inject=["resetForm","$element","close","Branch","xhrErrorDisplay"],l.directive("addCustomer",o),o.$inject=["ModalService","$parse","ToggleDimElement"],l.controller("AddCustomerDirectiveCtrl",a),a.$inject=["Customer","xhrErrorDisplay"]},function(e,r){e.exports='<div id="add-customer"><form novalidate="" class="form-horizontal" ng-submit="customerModal.submitCustomer(customerModal.customer)" name="customerModalForm"><fieldset class="add-new-customer-container" ng-form="" name="newCustomerModalForm" style="position: relative;padding: 7px;"><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="customer-name">Customer Name</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" min="3" id="customer-name" required="" to-upper="" ng-pattern="/.{3,}/" ng-model="customerModal.customer.name"></div></div><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="customer-id">Customer ID</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" id="customer-id" maxlength="9" ng-pattern="/^\\d{9}$/" ng-model="customerModal.customer.customer_id"></div></div><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="account-number">Account Number</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" id="account-number" required="" maxlength="10" ng-model="customerModal.customer.account" ng-pattern="/^\\d{10}$/"></div></div><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="branch">Branch</label><div class="col-md-8 col-lg-8 col-sm-8"><div class="input-group"><input class="form-control" id="branch" required="" ng-model="customerModal.customer.branch" typeahead-min-length="2" typeahead="branch as branch.view_value for branch in customerModal.getBranch($viewValue)"> <span class="input-group-addon add-new-branch-reveal" ng-click="customerModal.revealNewBranchForm()" style="cursor: pointer;"><img ng-src="{$$root.addIconSrc$}" alt="add-branch"></span></div></div></div></fieldset><div class="new-branch-form-container" ng-form="" name="newBranchForm" style="margin-left: 5%;display: none"><h4>Add New Branch</h4><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="new-branch-name">Branch Name</label><div class="col-md-8 col-lg-8 col-sm-8"><input class="form-control" id="new-branch-name" ng-model="customerModal.newBranch.name" to-upper=""></div></div><div class="form-group"><label class="control-label col-md-4 col-lg-4 col-sm-4" for="new-branch-code">Branch Code</label><div class="col-md-3 col-lg-3 col-sm-3"><input class="form-control" id="new-branch-code" ng-model="customerModal.newBranch.code" maxlength="3" ng-pattern="/^\\d{3}$/"></div><div class="col-md-5 col-lg-5 col-sm-5"><button class="btn btn-info" type="button" ng-disabled="newBranchForm.$invalid" ng-click="customerModal.createNewBranch(customerModal.newBranch)">Add Branch</button> <button class="btn btn-default new-branch-form-dismiss-btn" type="button" ng-click="customerModal.dismissNewBranchForm(customerModal.newBranch)">Dismiss</button></div></div></div><div class="row add-customer-form-control"><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: left"><span class="btn btn-default" ng-click="customerModal.reset(customerModalForm)">Reset</span></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: center"><button type="submit" class="btn btn-info" ng-disabled="newCustomerModalForm.$invalid">Add Customer</button></div><div class="col-md-4 col-lg-4 col-sm-4" style="text-align: right"><span class="btn btn-default" ng-click="customerModal.close()">Close</span></div></div></form></div>'},function(e,r){"use strict";function n(e,r){var n=appendToUrl(r.formMAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}function t(e){var r={"text-align":"right"};return[{title:"Form M",modelKey:"number"},{title:"Applicant",render:function(e){return e.applicant_data.name}},{title:"Currency",render:function(e){return e.currency_data.code}},{title:"Amount",tdStyle:r,render:function(r){return e("number")(r.amount,2)}},{title:"Date Received",tdStyle:r,render:function(r){return e("date")(r.date_received,"dd-MMM-yyyy")}},{title:"Bid Date",modelKey:"nothing"}]}var o=angular.module("form-m-service",["rootApp"]);o.factory("FormM",n),n.$inject=["$resource","urls"],o.factory("formMModelManager",t),t.$inject=["$filter"]},function(e,r){"use strict";var n=angular.module("rootApp");n.directive("numberFormat",["$filter",function(e){function r(r,n,t,o){function a(){n.val(e("number")(o.$viewValue,2))}function l(e){var r=e.replace(/,/g,"");return e?Number(r):void 0}function i(){var r,t;r=n.val(),r&&(r=n.val().replace(/,/g,""),t=e("number")(r,2),n.val(t),o.$setViewValue(t))}function c(e){var r;r=e.which,0===r||8===r||r>15&&19>r||r>=37&&40>=r||","!==String.fromCharCode(r)&&"."!==String.fromCharCode(r)&&!(r>=48&&57>=r)}o&&(o.$render=a,o.$parsers.push(l),n.bind("focusout",i),n.bind("keypress",c))}return{require:"?ngModel",link:r,restrict:"A"}}])},function(e,r){"use strict";var n=angular.module("rootApp");n.directive("toUpper",[function(){function e(e,r,n,t){function o(e){return e?e.toUpperCase():void 0}t.$parsers.push(o),r.bind("focusout",function(){var e;e=r.val(),r.val(e.toUpperCase())})}return{require:"ngModel",link:e,restrict:"A"}}])},function(e,r){"use strict";function n(){return{link:function(e,r,n){r.on({click:function(){var e=n.selectedClassIndicator,r=$(this);r.hasClass(e)?r.removeClass(e):r.addClass(e).siblings().removeClass(e)}},n.rowSelector)}}}angular.module("toggle-bg-color",[]).directive("toggleBgColor",n)},function(e,r,n){"use strict";function t(){return{link:function(e,r,n,t){r.on({click:function(e){e.preventDefault();var r=$(e.target);if(!r.is(".active")&&!r.closest("li").is(".disabled")){var n=r.attr("href")||r.parent().attr("href");t.targetClickedCallback({linkUrl:n})}}},".pager-nav-link")},scope:{},bindToController:{targetClickedCallback:"&",prevPageLink:"=",linkUrls:"=",currentLink:"=currentPagerLink",nextPageLink:"="},controller:"PagerNavCtrl as pageNav",template:n(11)}}function o(){}function a(e){function r(r,n,t){var o={};if(o.linkUrls=[],1===t)return o;var a,l,i,c;if(n)for(a=e(n),l=a.search(!0),l.page?o.currentLink=Number(l.page)+1:o.currentLink=2,i=a.search(""),c=1;t>=c;c++)l.page=c,o.linkUrls.push(i.clone().search(l).toString());else for(o.currentLink=1,a=e(r),l=a.search(!0),i=a.search(""),l.page=1,o.linkUrls=[i.clone().search(l).toString(),r],c=3;t>=c;c++)l.page=c,o.linkUrls.push(i.clone().search(l).toString());return o}return r}var l=angular.module("pager-nav",["kanmii-URI"]);l.directive("pagerNav",t),l.controller("PagerNavCtrl",o),l.factory("pagerNavSetUpLinks",a),a.$inject=["kanmiiUri"]},function(e,r){e.exports='<nav id="pager-nav">\n  <ul class="pagination" style="margin: 0;">\n    <li ng-class="[\'previous\', {disabled: !pageNav.prevPageLink}]">\n      <a ng-href="{$pageNav.prevPageLink$}" aria-label="Previous" class="pager-nav-link">\n        <span aria-hidden="true">&laquo;</span>\n      </a>\n    </li>\n\n    <li ng-repeat="link in pageNav.linkUrls"\n        ng-class="{active: (pageNav.currentLink == ($index + 1))}">\n      <a ng-href="{$link$}"\n         ng-class="[\'pager-nav-link\', {active: (pageNav.currentLink == ($index + 1))}]">\n        {$($index + 1)$}\n      </a>\n    </li>\n\n    <li ng-class="[\'next\', {disabled: !pageNav.nextPageLink}]">\n      <a ng-href="{$pageNav.nextPageLink$}" aria-label="Next" class="pager-nav-link">\n        <span aria-hidden="true">&raquo;</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n'},function(e,r,n){"use strict";function t(){return{restrict:"E",scope:{},bindToController:{modelCollection:"=",modelManager:"=tableModelManager",newModel:"=",caption:"=tableCaption",paginationSize:"=",updateCollection:"&",pager:"=pagerObject",onDblClick:"&onRowDblClickCallback"},controller:"ModelTableDirectiveCtrl as modelTable",template:n(13)}}function o(e,r,n){function t(e,n,t){var o=Math.ceil(t/a.paginationSize),l=r(e,n,o);a.nextPageLink=e,a.prevPageLink=n,a.linkUrls=l.linkUrls,a.currentLink=l.currentLink}function o(e){a.updateCollection({linkUrl:e})}var a=this;a.orderProp="-created_at",a.onUpdateCollection=o,e.$watch(function(){return a.pager},function(e){e&&!n.isEmpty(e)&&t(e.next,e.previous,e.count)})}var a=angular.module("model-table",["toggle-bg-color","kanmii-underscore","pager-nav"]);a.config(n(1).interpolateProviderConfig),a.directive("modelTable",t),a.controller("ModelTableDirectiveCtrl",o),o.$inject=["$scope","pagerNavSetUpLinks","kanmiiUnderscore"]},function(e,r){e.exports='<div class="model-table-display-root-container"><table class="table table-striped table-condensed table-bordered model-table-table-display" style="margin-bottom: 13px;"><caption>{$::modelTable.caption$}</caption><thead><tr><th>S/N</th><th ng-repeat="modelManager in modelTable.modelManager">{$::modelManager.title$}</th></tr></thead><tbody toggle-bg-color="" row-selector="tr" selected-class-indicator="model-table-display-selected"><tr ng-repeat="aModel in modelTable.modelCollection" ng-dblclick="modelTable.onDblClick({rowModel: aModel})" class="model-table-display-table-row" style="cursor: pointer;"><td>{$$index + 1$}</td><td ng-repeat="modelManager in modelTable.modelManager" ng-style="::modelManager.tdStyle">{$modelManager.modelKey ? aModel[modelManager.modelKey] : modelManager.render(aModel)$}</td></tr></tbody></table><pager-nav prev-page-link="modelTable.prevPageLink" link-urls="modelTable.linkUrls" current-pager-link="modelTable.currentLink" next-page-link="modelTable.nextPageLink" target-clicked-callback="modelTable.onUpdateCollection(linkUrl)"></pager-nav></div>'},function(e,r,n){"use strict";function t(e,r){var n=appendToUrl(r.currencyAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function o(e){function r(r){return e.query({code:r}).$promise}return r}function a(e,r){var n=appendToUrl(r.branchAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function l(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function i(){return function(e){return"string"==typeof e&&/\d{4}-\d{2}-\d{2}/.test(e)?e:e instanceof Date?e.strftime("%Y-%m-%d"):null}}function c(e,r){var n=appendToUrl(r.letterOfCredit1APIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function s(e,r){var n=appendToUrl(r.lcIssueAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function d(e,r){var n=appendToUrl(r.lcIssueConcreteAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"}})}function u(e,r){var n=appendToUrl(r.lcBidRequestAPIUrl,":id");return e(n,{id:"@id"},{put:{method:"PUT"},getPaginated:{method:"GET"}})}function m(e,r){e=angular.copy(e),console.log(e),400===e.status&&(e.messages=e.data,this.errorKeyMap=r),this.error=e}function p(e){return function(r,n){function t(e){e.element.dialog({modal:!0,dialogClass:"no-close",title:"Request Not Completed"})}e.showModal({templateUrl:f.buildUrl("core_recons","commons/./xhr-error-display.service.html"),controller:"XhrErrorDisplayCtrl as xhrErrorDisplay",inputs:{error:r,errorKeyMap:n}}).then(t)}}var f=n(1),g=angular.module("rootApp");g.factory("Currency",t),t.$inject=["$resource","urls"],g.factory("getTypeAheadCurrency",o),o.$inject=["Currency"],g.factory("Branch",a),a.$inject=["$resource","urls"],g.factory("parseDate",l),g.factory("formatDate",i),g.factory("LetterOfCredit",c),c.$inject=["$resource","urls"],g.factory("LCIssue",s),s.$inject=["$resource","urls"],g.factory("LCIssueConcrete",d),d.$inject=["$resource","urls"],g.factory("LcBidRequest",u),u.$inject=["$resource","urls"],g.controller("XhrErrorDisplayCtrl",m),m.$inject=["error","errorKeyMap"],g.factory("xhrErrorDisplay",p),p.$inject=["ModalService"]},function(e,r,n){"use strict";function t(e){function r(r,n,t,o){function a(r){o.searchParams={},r&&e(r,n,".form-control")}o.reset=a,o.reset()}return{restrict:"E",scope:{},bindToController:!0,templateUrl:a.buildUrl(a.rootAppName,"search-lc/search-lc.html"),controller:"SearchLcDirectiveCtrl as searchLc",link:r}}function o(e,r){function n(r){return e.query({name:r}).$promise}function t(e){_.isEmpty(e)||(e.applicant&&(e.applicant=e.applicant.name),o.lcees=r.query(e),console.log(o.lcees))}var o=this;o.cssPath=a.buildUrl(a.rootAppName,"search-lc/search-lc.min.css"),o.lcees=[],o.searchParams={},o.getCustomer=n,o.getLcees=t}var a=n(1),l=angular.module("rootApp.search_lc",["rootApp"]);l.config(a.interpolateProviderConfig),a.setStaticPrefix(l),l.directive("searchLc",t),t.$inject=["resetForm"],l.controller("SearchLcDirectiveCtrl",o),o.$inject=["Customer","LetterOfCredit"]}]);
//# sourceMappingURL=app.min.js.map