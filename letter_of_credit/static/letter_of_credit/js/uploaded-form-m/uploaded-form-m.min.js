$(function(){"use strict";function t(t){return Number(t.replace(/[,\s]/g,""))}function e(t){return t=""+t,4===t.length?t:"20"+t}function r(t){var r=new RegExp("(\\d+)[^d](\\d+)[^d](\\d+)"),i=r.exec(t.trim()),n=e(i[3])+"-";return"mm-dd-yyyy"===a?n+i[1]+"-"+i[2]:n+i[2]+"-"+i[1]}var a,i=$("#id_upload-lc-register-text"),n=$("#id_upload-lc-register"),o=$("[name=date-format]"),d=$(".text-area-control");o.change(function(){a=$(this).val();var t=!o.filter(":checked").size();d.each(function(){$(this).prop("disabled",t)})}),i.on("input",function(){var e="FORM M PROCESSED ON CBN WINDOW",a=[];Papa.parse(i.val().replace(e,"").trim().replace(/"/g,""),{delimiter:"	",header:!0,step:function(e){var i=e.data[0];try{a.push({ba:i["BA NUM"].trim(),mf:i["MF NUM"].trim(),ccy:i.CURRENCY.trim(),fob:t(i.FOB),applicant:i["APPLICANT NAME"].trim(),submitted_at:r(i["DATE SUBMITTED"]),goods_description:i.DESCS.trim(),cost_freight:t(i["COST AND FREIGHT"]),validity_type:i["VALIDITY TYPE"].trim(),status:i.STAX.trim()})}catch(n){window.alert("Error parsing data\n"+n.message)}}}),n.val(JSON.stringify(a))}),$(".upload-lc-register-form").submit(function(t){/^\[\{".+/.test(n.val())?($("#upload-lc-register-submit").prop("disabled",!0),$("textarea").each(function(){$(this).prop("readonly",!0)}),$(this).addClass("ui-widget-overlay ui-front")):(window.alert("Nothing to upload or invalid upload data!"),t.preventDefault())})});
//# sourceMappingURL=uploaded-form-m.min.js.map
