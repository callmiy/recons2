$(function(){"use strict";function t(t){return Number(t.replace(/[,\s]/g,""))}function r(t){var r=new RegExp("(\\d+)[^d](\\d+)[^d](\\d+)"),i=r.exec(t.trim());return i[3]+"-"+i[2]+"-"+i[1]}var i=$("#id_upload-lc-register-text"),e=$("#id_upload-lc-register");i.on("input",function(){var a="FORM M PROCESSED ON CBN WINDOW",d=[];Papa.parse(i.val().replace(a,"").trim().replace(/"/g,""),{delimiter:"	",header:!0,step:function(i){var e=i.data[0];try{d.push({ba:e["BA NUM"].trim(),mf:e["MF NUM"].trim(),ccy:e.CURRENCY.trim(),fob:t(e.FOB),applicant:e["APPLICANT NAME"].trim(),submitted_at:r(e["DATE SUBMITTED"]),goods_description:e.DESCS.trim(),cost_freight:t(e["COST AND FREIGHT"]),validity_type:e["VALIDITY TYPE"].trim(),status:e.STAX.trim()})}catch(a){window.alert("Error parsing data\n"+a.message)}}}),e.val(JSON.stringify(d))}),$(".upload-lc-register-form").submit(function(t){/^\[\{".+/.test(e.val())?($("#upload-lc-register-submit").prop("disabled",!0),$("textarea").each(function(){$(this).prop("readonly",!0)}),$(this).addClass("ui-widget-overlay ui-front")):(window.alert("Nothing to upload or invalid upload data!"),t.preventDefault())})});
//# sourceMappingURL=uploaded-form-m.min.js.map
