$(function(){"use strict";function t(t){return Number(t.replace(/,/g,""))}function e(t){var e=new RegExp("(\\d+)/(\\d+)/(\\d+)"),a=e.exec(t);return a[3]+"-"+a[2]+"-"+a[1]}var a=$("#id_upload-lc-register-text"),i=$("#id_upload-lc-register");a.on("input",function(){var r="FORM M PROCESSED ON CBN WINDOW",n=[];Papa.parse(a.val().replace(r,"").trim(),{delimiter:"	",header:!0,step:function(a){var i=a.data[0],r=i["BA NUM"];16===r.length&&n.push({ba:r,mf:i["MF NUM"],ccy:i.CURRENCY,fob:t(i.FOB),applicant:i["APPLICANT NAME"],submitted_at:e(i["DATE SUBMITTED"]),goods_description:i.DESCS,cost_freight:t(i["COST AND FREIGHT"]),validity_type:i["VALIDITY TYPE"],status:i.STAX})}}),i.val(JSON.stringify(n))}),$(".upload-lc-register-form").submit(function(t){/^\[\{".+/.test(i.val())?($("#upload-lc-register-submit").prop("disabled",!0),$("textarea").each(function(){$(this).prop("readonly",!0)}),$(this).addClass("ui-widget-overlay ui-front")):(window.alert("Nothing to upload or invalid upload data!"),t.preventDefault())})});
//# sourceMappingURL=uploaded-form-m.min.js.map
