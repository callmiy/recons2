$(function(){"use strict";function t(t){return Number(t.replace(/[,\s]/g,""))}function i(t){var i=new RegExp("(\\d+)[^d](\\d+)[^d](\\d+)"),r=i.exec(t.trim());return r[3]+"-"+r[2]+"-"+r[1]}var r=$("#id_upload-lc-register-text"),e=$("#id_upload-lc-register");r.on("input",function(){var a="FORM M PROCESSED ON CBN WINDOW",d=[];Papa.parse(r.val().replace(a,"").trim(),{delimiter:"	",header:!0,step:function(r){var e=r.data[0];d.push({ba:e["BA NUM"].trim(),mf:e["MF NUM"].trim(),ccy:e.CURRENCY.trim(),fob:t(e.FOB),applicant:e["APPLICANT NAME"].trim(),submitted_at:i(e["DATE SUBMITTED"]),goods_description:e.DESCS.trim(),cost_freight:t(e["COST AND FREIGHT"]),validity_type:e["VALIDITY TYPE"].trim(),status:e.STAX.trim()})}}),e.val(JSON.stringify(d))}),$(".upload-lc-register-form").submit(function(t){/^\[\{".+/.test(e.val())?($("#upload-lc-register-submit").prop("disabled",!0),$("textarea").each(function(){$(this).prop("readonly",!0)}),$(this).addClass("ui-widget-overlay ui-front")):(window.alert("Nothing to upload or invalid upload data!"),t.preventDefault())})});
//# sourceMappingURL=uploaded-form-m.min.js.map
