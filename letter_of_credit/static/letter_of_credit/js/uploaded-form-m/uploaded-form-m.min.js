$(function(){"use strict";function t(t){return Number(t.replace(/[,\s]/g,""))}function e(t){return t=""+t,4===t.length?t:"20"+t}function r(t){var r=new RegExp("(\\d+)[^\\d](\\d+)[^\\d](\\d+)"),a=r.exec(t.trim()),n=e(a[3])+"-";return"mm-dd-yyyy"===i?n+a[1]+"-"+a[2]:n+a[2]+"-"+a[1]}var i,a=$("#id_upload-lc-register-text"),n=$("#id_upload-lc-register"),o=$("[name=date-format]"),d=$(".text-area-control");o.change(function(){i=$(this).val();var t=!o.filter(":checked").size();d.each(function(){$(this).prop("disabled",t)})}),a.on("input",function(){var e="FORM M PROCESSED ON CBN WINDOW",i=[];Papa.parse(a.val().replace(e,"").trim().replace(/"/g,""),{delimiter:"	",header:!0,step:function(e){var a=e.data[0];try{i.push({ba:a["BA NUM"].trim(),mf:a["MF NUM"].trim(),ccy:a.CURRENCY.trim(),fob:t(a.FOB),applicant:a["APPLICANT NAME"].trim(),bene:a["BENEFICIARY'S NAME"].trim(),submitted_at:r(a["DATE SUBMITTED"]),goods_description:a.DESCS.trim(),cost_freight:t(a["COST AND FREIGHT"]),validity_type:a["VALIDITY TYPE"].trim(),status:a.STAX.trim()})}catch(n){window.alert("Error parsing data\n"+n.message)}}}),n.val(JSON.stringify(i))}),$(".upload-lc-register-form").submit(function(t){/^\[\{".+/.test(n.val())?($("#upload-lc-register-submit").prop("disabled",!0),$("textarea").each(function(){$(this).prop("readonly",!0)}),$(this).addClass("ui-widget-overlay ui-front")):(window.alert("Nothing to upload or invalid upload data!"),t.preventDefault())})});
//# sourceMappingURL=uploaded-form-m.min.js.map
