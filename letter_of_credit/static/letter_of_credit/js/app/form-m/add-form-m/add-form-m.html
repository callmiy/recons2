<div id="add-form-m-root-container" class="add-form-m-root-container" style="margin-top: 5px;"><form class="form-horizontal" name="addFormMForm" novalidate="" ng-submit="addFormMState.submit(addFormMState.formM, addFormMForm)"><div class="row add-form-m-form-row"><div class="add-form-m-saving-indicator" ng-show="addFormMState.formMIsSaving"><span class="glyphicon glyphicon-remove-sign add-form-m-saving-indicator-dismiss" ng-click="addFormMState.formMIsSaving = false"></span><pre>{$addFormMState.savingFormMIndicator$}</pre></div><div class="col-sm-6"><fieldset class="add-new-form-m-container" ng-form="" name="newFormMForm"><div class="form-group form-m-group"><label class="control-label col-sm-3" for="form-m">Search Form M</label><div class="col-sm-9" ng-dblclick="addFormMState.getUploadedFormM()"><div class="input-group"><span class="input-group-addon" data-toggle="tooltip" title="Search form M in single window"><i class="glyphicon glyphicon-search"></i></span> <input class="form-control" type="text" min="4" id="form-m" disabled="" placeholder="double click to search form M in single window" ng-model="addFormMState.searchFormM.mf"></div></div></div><div class="form-group form-m-owner-group" ng-show="addFormMState.searchFormM.applicant"><label class="control-label col-sm-3" for="form-m-owner">Owner</label><div class="col-sm-9"><input class="form-control" id="form-m-owner" name="form-m-owner" disabled="" ng-model="addFormMState.searchFormM.applicant"></div></div><div class="form-group form-m-number-group"><label class="control-label col-sm-3" for="form-m-number">Form M Number</label><div class="col-sm-9"><div class="input-group"><span class="input-group-addon" style="cursor:pointer;" ng-click="addFormMState.enableFieldEdit('number')"><i ng-class="['glyphicon', {'glyphicon-pencil': addFormMState.fieldsEdit.number, 'glyphicon-eye-open': !addFormMState.fieldsEdit.number}]"></i></span> <input class="form-control" maxlength="13" id="form-m-number" required="" name="form-m-number" to-upper="" ng-pattern="/mf\d{11}/i" ng-readonly="addFormMState.fieldsEdit.number" ng-model="addFormMState.formM.number"></div></div></div><div class="form-group applicant-group"><label class="control-label col-sm-3" for="applicant">Applicant</label><div class="col-sm-9"><div class="input-group"><span class="input-group-addon" style="cursor:pointer;" ng-click="addFormMState.enableFieldEdit('applicant')"><i ng-class="['glyphicon', {'glyphicon-pencil': addFormMState.fieldsEdit.applicant, 'glyphicon-eye-open': !addFormMState.fieldsEdit.applicant}]"></i></span> <input class="form-control" type="text" min="3" id="applicant" name="applicant" required="" ng-model="addFormMState.formM.applicant" ng-pattern="addFormMState.validators.applicant" ng-readonly="addFormMState.fieldsEdit.applicant" typeahead-min-length="3" uib-typeahead="applicant as applicant.name for applicant in addFormMState.getApplicant($viewValue)" typeahead-select-on-blur="true" typeahead-select-on-exact="true"> <span class="input-group-addon" ng-show="!addFormMState.fieldsEdit.applicant"><img ng-src="{$$root.addIconSrc$}" alt="" add-customer="" dim-parent="addFormMState.element" added-new-customer="addFormMState.formM.applicant"></span></div></div></div><div class="form-group currency-group"><label class="control-label col-sm-3" for="currency">Currency</label><div class="col-sm-9"><div class="input-group"><span class="input-group-addon" style="cursor:pointer;" ng-click="addFormMState.enableFieldEdit('currency')"><i ng-class="['glyphicon', {'glyphicon-pencil': addFormMState.fieldsEdit.currency, 'glyphicon-eye-open': !addFormMState.fieldsEdit.currency}]"></i></span> <input class="form-control" id="currency" maxlength="3" name="currency" required="" ng-pattern="addFormMState.validators.currency" ng-model="addFormMState.formM.currency" ng-readonly="addFormMState.fieldsEdit.currency" uib-typeahead="currency as currency.code for currency in addFormMState.getCurrency($viewValue)" typeahead-min-length="2" typeahead-select-on-blur="true" typeahead-select-on-exact="true"></div></div></div><div class="form-group amount-group"><label class="control-label col-sm-3" for="amount">Amount</label><div class="col-sm-9"><div class="input-group"><span class="input-group-addon" style="cursor:pointer;" ng-click="addFormMState.enableFieldEdit('amount')"><i ng-class="['glyphicon', {'glyphicon-pencil': addFormMState.fieldsEdit.amount, 'glyphicon-eye-open': !addFormMState.fieldsEdit.amount}]"></i></span> <input class="form-control" id="amount" required="" ng-model="addFormMState.formM.amount" number-format="" ng-readonly="addFormMState.fieldsEdit.amount"></div></div></div><div class="form-group received-date-group"><label class="control-label col-sm-3" for="received-date">Date Received</label><div class="col-sm-9"><div class="input-group"><span class="input-group-addon" style="cursor:pointer;" ng-click="addFormMState.enableFieldEdit('date_received')"><i ng-class="['glyphicon', {'glyphicon-pencil': addFormMState.fieldsEdit.date_received, 'glyphicon-eye-open': !addFormMState.fieldsEdit.date_received}]"></i></span> <input class="form-control" id="received-date" required="" ng-model="addFormMState.formM.date_received" ng-readonly="addFormMState.fieldsEdit.date_received" uib-datepicker-popup="{$addFormMState.datePickerFormat$}" is-open="addFormMState.datePickerIsOpen"> <span class="input-group-addon" ng-click="addFormMState.openDatePicker($event)" ng-show="!addFormMState.fieldsEdit.date_received"><i class="glyphicon glyphicon-calendar"></i></span></div></div></div></fieldset><div class="form-group add-form-m-form-control"><div class="col-sm-3"></div><div class="col-sm-5" style="text-align: left"><button type="submit" class="btn btn-info" ng-disabled="addFormMState.disableSubmitBtn(newFormMForm.$invalid)">Create Form M</button></div><div class="col-sm-4" style="text-align:right"><span class="btn btn-default" ng-click="addFormMState.reset(addFormMForm)">Clear</span></div></div><div lc-cover="" mf-context="addFormMState.formM" on-cover-changed="addFormMState.onCoverChanged(cover, coverForm)"></div></div><div class="col-sm-6"><div lc-bid="" mf-context="addFormMState.formM" on-bid-changed="addFormMState.onBidChanged(bid, bidForm)"></div><div class="form-m-lc-issue-container form-m-add-on-container"><div ng-click="addFormMState.toggleShowLcIssueContainer()" class="form-m-add-on-toggle form-m-lc-issue-toggle-show clearfix"><span class="form-m-add-on-show-helper" ng-show="addFormMState.showLcIssueContainer">Specify LC Request Issues</span><div class="form-m-add-on-show-icon"><span ng-class="['glyphicon', {'glyphicon-chevron-down': !addFormMState.showLcIssueContainer, 'glyphicon-chevron-up': addFormMState.showLcIssueContainer}]"></span> {$addFormMState.addLcIssuesTitle$}</div></div><div class="form-m-add-lc-issue" ng-show="addFormMState.showLcIssueContainer" style="margin-top: 10px;"><div class="form-group lc-issue-select-group"><label for="issue" class="control-label col-sm-12" style="text-align: center">Type LC issue</label><div class="col-sm-12"><input type="text" class="form-control" id="issue" name="issue" ng-model="addFormMState.issue" typeahead-min-length="3" typeahead-on-select="addFormMState.issueSelected($item, $model, $label)" uib-typeahead="issue as issue.text for issue in addFormMState.getIssue($viewValue)"></div></div><div ng-repeat="issue in addFormMState.issues"><div class="input-group"><label for="issue-text-display" class="sr-only"></label> <span class="input-group-addon">{$$index + 1$}</span> <input type="text" class="form-control" id="issue-text-display" name="issue-text-display" disabled="" ng-value="issue.text" style="padding-left: 10px;"> <span class="input-group-addon" style="cursor: pointer" ng-click="addFormMState.deleteIssue($index)"><span class="glyphicon glyphicon-trash"></span></span></div></div></div><div style="margin-top: 30px;" class="existing-issues open-issues" ng-show="addFormMState.nonClosedIssues.length"><h5 style="text-align: center">Issues not closed({$addFormMState.nonClosedIssues.length$})</h5><div ng-repeat="issue in addFormMState.nonClosedIssues"><div class="input-group"><label for="issue-text-display" class="sr-only"></label> <span class="input-group-addon">{$$index + 1$}</span> <input type="text" class="form-control" id="issue-text-display" name="issue-text-display" disabled="" ng-value="issue.issue.text" style="padding-left: 10px;"> <span class="input-group-addon" style="cursor: pointer" ng-click="addFormMState.closeIssue(issue, $index)"><span class="glyphicon glyphicon-trash"></span></span></div></div><div class="download-issue-btn-container" style="text-align: right;margin-top: 20px;"><button type="button" class="btn btn-info" ng-click="addFormMState.downloadIssues()">Download issues</button></div></div><div style="margin-top: 30px;" class="existing-issues closed-issues" ng-show="addFormMState.closedIssues.length"><h5 style="text-align: center">Issues that have been closed ({$addFormMState.closedIssues.length$})</h5><div ng-repeat="issue in addFormMState.closedIssues"><div class="input-group"><label for="issue-text-display" class="sr-only"></label> <span class="input-group-addon">{$$index + 1$}</span> <input type="text" class="form-control" id="issue-text-display" name="issue-text-display" disabled="" ng-value="issue.issue.text" style="padding-left: 10px;"> <span class="input-group-addon"><span>{$issue.closed_at |date:'dd-MMM-yyyy'$}</span></span></div></div></div></div></div></div></form></div>