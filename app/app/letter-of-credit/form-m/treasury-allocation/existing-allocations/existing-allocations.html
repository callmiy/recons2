<div class="existing-allocations-directive-container"><div class="edit-allocation-container" ng-if="existingAllocations.showEditAllocationForm"><span class="close-btn" ng-click="existingAllocations.dismissEditAllocationForm()">&times;</span><div edit-allocation="" allocation="existingAllocations.allocationToEdit" on-edited="existingAllocations.onAllocationEdited(allocation)"></div></div><div class="search-allocations-result treasury-allocations-table-display"><table ng-table="existingAllocations.tableParams" class="table table-bordered table-condensed table-responsive table-striped allocation-table"><tbody><tr style="cursor: pointer;" ng-repeat="allocationObj in $data track by allocationObj.id" ng-class="{'bid-row-matched': allocationObj.originalRequests}" ng-dblclick="existingAllocations.editAllocation(allocationObj)"><td data-title="'S/N'">{$$index + 1$}</td><td title="'DEAL NO'" filter="{deal_number: 'text'}">{$::allocationObj.deal_number$}</td><td data-title="'SOURCE'" sortable="'source_of_fund'">{$::allocationObj.source_of_fund$}</td><td data-title="'DEAL DATE'" sortable="'deal_date'">{$::allocationObj.deal_date | date:'dd-MMM-yyyy'$}</td><td data-title="'SETTLEMENT DATE'" sortable="'settlement_date'">{$::allocationObj.settlement_date | date:'dd-MMM-yyyy'$}</td><td data-title="'TYPE'" sortable="'transaction_type'">{$::allocationObj.transaction_type$}</td><td data-title="'CATEGORY'" sortable="'client_category'" filter="{client_category:'text'}">{$ allocationObj.client_category$}</td><td class="td-number" data-title="'RATE'" sortable="'naira_rate'">{$::allocationObj.naira_rate $}</td><td data-title="'CCY'" sortable="'currency'" filter="{currency:'text'}">{$::allocationObj.currency $}</td><td data-title="'CUSTOMER NAME'" sortable="'customer_name_no_ref'" filter="{customer_name_no_ref:'text'}">{$allocationObj.customer_name_no_ref $}</td><td data-title="'REFERENCE'" sortable="'ref'" filter="{ref :'text'}">{$allocationObj.ref $}</td><td class="td-number" data-title="'FCY AMOUNT'" sortable="'fcy_amount'" filter="{fcy_amount: 'number'}">{$::allocationObj.fcy_amount |number:2$}</td><td style="min-width: 135px;" data-title="'ORIGINAL REQUEST'" filter="{originalRequests :'number'}"><span class="original-request-row td-number" ng-repeat="req in allocationObj.originalRequests">{$::req |number:2$}</span></td><td data-title="'TOTAL ALLOCATIONS'" filter="{totalAllocations :'number'}"><span class="original-request-row td-number" ng-repeat="req in allocationObj.totalAllocations">{$::req |number:2$}</span></td><td data-title="'AMOUNT OUTSTANDING'" filter="{outstandingAmounts :'number'}"><span class="original-request-row td-number" ng-repeat="req in allocationObj.outstandingAmounts">{$::req |number:2$}</span></td><td data-title="'NEW OUTSTANDING'" sortable="'newOutstandingAmounts'"><span class="original-request-row td-number" ng-repeat="req in allocationObj.newOutstandingAmounts">{$req |number:2$}</span></td></tr></tbody></table></div></div>